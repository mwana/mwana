function drawLabelOnPoly(a,d,e,b,k,c,h,g){var f=!!document.createElement("canvas").getContext;c=c||"15px Arial bold";k=k||"#ff0000";f&&(f=document.getElementsByTagName("canvas"))&&(f=b||f[0],b=f.getContext("2d"),h&&b.clearRect(0,0,f.width,f.height),b.fillStyle=k,b.beginPath(),h=getFontSize(c)/1.5*a.length,"rectangle"==g?(g=1.5*getFontSize(c),b.rect(d-h/2,e-g/2,h,g)):b.arc(d,e,h,0,2*Math.PI,!1),b.fill(),b.fillStyle="#ffffff",b.font=c,g=-a.length*getFontSize(c)/4,c=getFontSize(c)/2,b.fillText(a,d+g,
e+c))}function getFontSize(a){return parseInt(a.split("px")[0])}function getPolygonCenter(a){a=document.getElementById(a).coords.split(",");var d=0,e=0;for(i=2;i<a.length-1;i+=2)d+=parseInt(a[i]),e+=parseInt(a[i+1]);return[2*d/a.length,2*e/a.length]};
